<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<meta http-equiv="Expires" content="0">
<meta http-equiv="Last-Modified" content="0">
<meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
<meta http-equiv="Pragma" content="no-cache"> 
<meta charset="UTF-8">
<title>Cursos por precio</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<style type="text/css">
body {
	color: purple;
}

h1 {
	text-align: center;
}

div {
	width: 400px;
	margin: 50px auto;
	padding: 15px;
	background-color: smocke;
	border: 1px solid purple; input { display : block;
	margin-bottom: 15px;
}
.centrado{
	position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
input {
	color: purple;
	margin: 0 auto;
	display: block;
	margin-bottom: 15px;
	border: 1px solid purple;
	padding: 7px;
	display: block;
}}
</style>
</head>
<body>
	<div>
			Introduce precio m�ximo:<input type="text" name="precio" id="precio"> 
				                     <input type="button"value="Buscar" id="buscar">
		<br><br>
		<div id="resultados" class="centrado">	
			<table id="tablaCursos" border='1' width="100%" cellspacing="0">
			</table>
		</div>
	</div>
	<script type="text/javascript">
		$("#buscar").click(function(){
			let url = "FrontController?operation=doBuscar&precio="+$("#precio").val();
			$.get(url,function(data,status){
				let tablaCursos = "<thead><tr><th width=\"10\">Nombre</th><th width=\"10\">Temática</th><th width=\"10\">Duración</th><th width=\"10\">Precio</th></tr></thead><tbody>";
				//recorremos JSON de respuesta y creamos una entrada HTML por cada resultado
				$.each(data,function(i,e){
					tablaCursos += "<tr><td style='text-align: center;'>" + e.nombre + "</td>";
                    tablaCursos += "<td style='text-align: center;'>" + e.tematica + "</td>";
                    tablaCursos += "<td style='text-align: center;'>" + e.duracion + "</td>";
                    tablaCursos += "<td style='text-align: center;'>" + e.precio + "</td>";
                    tablaCursos += "</tr>";
				});
				tablaCursos += "</tbody>";
				//volcamos el html completo en el div
				$("#tablaCursos").html(tablaCursos)
			});
		})
		
	</script>
</body>
</html> 